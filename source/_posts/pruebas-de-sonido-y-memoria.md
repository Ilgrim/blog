---
title: "Pruebas de sonido y memoria"
date: 2014-09-01 22:05:41
tags: 
---
<p style="text-align: justify;">El fracaso con la emisora que construí (corto alcance, 80 m) influye también en otro proyecto que tenía en mente: un par de <em>walkie</em>-<em>talkies</em>. Sin embargo hice unas pruebas de sonido:</p>
<p style="text-align: justify;"><a href="http://yombo.org/wp-content/uploads/2014/09/Pruebas_SonidoYMemoria_lorosinmicro.jpg"><img class="aligncenter size-large wp-image-1024" src="http://yombo.org/wp-content/uploads/2014/09/Pruebas_SonidoYMemoria_lorosinmicro-1024x575.jpg" alt="Pruebas_SonidoYMemoria_lorosinmicro" width="625" height="350" /></a>Este circuito tiene un microcontrolador ATMEGA1284P, un chip de memoria estática de 128 kilobytes y un latch de 8 bits desde el bus de datos hacia un DAC formado por resistencias, cuya salida meto a un amplificador basado en LM386, que da potencia a un altavoz de 4 omhios. El microcontrolador tiene todas las patillas de datos ocupadas.</p>
<p style="text-align: justify;">El sonido generado (8 bits a 16KHz) es bastante bueno, así que seguí haciendo pruebas para los <em>walkies</em>. Obviamente el <em>walkie</em> no iba a tener el chip de RAM, pero añadiendo el micrófono conseguí replicar uno de esos loros que graban sonido y lo reproducen después. La capacidad era de 8,1 segundos de grabación. Detalle del circuito del micrófono:</p>
<p style="text-align: justify;"><a href="http://yombo.org/wp-content/uploads/2014/09/Pruebas_SonidoYMemoria_microfono.jpg"><img class="aligncenter size-large wp-image-1025" src="http://yombo.org/wp-content/uploads/2014/09/Pruebas_SonidoYMemoria_microfono-1024x576.jpg" alt="Pruebas_SonidoYMemoria_microfono" width="625" height="351" /></a>El resultado lo podéis ver y oír en este vídeo (en el que sólo muestro la reproducción) El ruido inicial es porque reseteo el circuito, no lo tenía que haber hecho :P</p>
<p style="text-align: justify;"><iframe src="//www.youtube.com/embed/cP9sYk0xuaE" width="625" height="352" frameborder="0" allowfullscreen="allowfullscreen"></iframe></p>
<p style="text-align: justify;">Los ruidos como golpecitos (y el ruido en general durante la reproducción) son causados por el micrófono, no por la parte de reproducción.</p>
<p style="text-align: justify;">Después me animé a hacer el adaptador a 100 mils (pins estándar) para un chip de memoria de 512 kilobytes, para usar con los CPLDs. Hice un PCB pero salió mal, y mientras me llega material para hacer placas mejores (hablaré de eso en otro post), decidí hacer un Frankenstein como veis en estas fotos:</p>
<p style="text-align: justify;"><a href="http://yombo.org/wp-content/uploads/2014/09/Pruebas_SonidoYMemoria_cama_piezas2.jpg"><img class="aligncenter size-large wp-image-1028" src="http://yombo.org/wp-content/uploads/2014/09/Pruebas_SonidoYMemoria_cama_piezas2-1024x768.jpg" alt="Pruebas_SonidoYMemoria_cama_piezas2" width="625" height="468" /></a><a href="http://yombo.org/wp-content/uploads/2014/09/Pruebas_SonidoYMemoria_cama_piezas3_frankenstein.jpg"><img class="aligncenter size-large wp-image-1029" src="http://yombo.org/wp-content/uploads/2014/09/Pruebas_SonidoYMemoria_cama_piezas3_frankenstein-1024x648.jpg" alt="Pruebas_SonidoYMemoria_cama_piezas3_frankenstein" width="625" height="395" /></a><a href="http://yombo.org/wp-content/uploads/2014/09/Pruebas_SonidoYMemoria_cama_terminada.jpg"><img class="aligncenter size-large wp-image-1030" src="http://yombo.org/wp-content/uploads/2014/09/Pruebas_SonidoYMemoria_cama_terminada-1024x718.jpg" alt="Pruebas_SonidoYMemoria_cama_terminada" width="625" height="438" /></a>Tras realizar semejante engendro, proseguí conectándolo a un microcontrolador, ocupando de nuevo todas sus patillas con 19 pins de dirección y 8 de datos:</p>
<p style="text-align: justify;"><a href="http://yombo.org/wp-content/uploads/2014/09/Pruebas_SonidoYMemoria_zProbando-la-memoria.jpg"><img class="aligncenter size-large wp-image-1031" src="http://yombo.org/wp-content/uploads/2014/09/Pruebas_SonidoYMemoria_zProbando-la-memoria-1024x560.jpg" alt="Pruebas_SonidoYMemoria_zProbando la memoria" width="625" height="341" /></a>Y el test de memoria con números pseudoaleatorios dio resultado correcto.</p>
<p style="text-align: justify;">Referencias:</p>
<p style="text-align: justify;">Advanced ADC read - Link roto.</p>
<p style="text-align: justify;"><a href="http://lowvoltage.wordpress.com/2011/05/15/lm386-mic-amp/" target="_blank">LM386 microphone amplifier</a></p>
<p style="text-align: justify;"><a href="http://www.instructables.com/id/Arduino-Audio-Output/1/?lang=es" target="_blank">Arduino audio output</a></p>
<p style="text-align: justify;">Hasta la próxima!</p>